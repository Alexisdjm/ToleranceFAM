<div class="{% if section.settings.section_margin %}short-flex--father{% else %}custom-flex--father{% endif %}" {% if section.settings.bg_options == "image" %}
style="background-image: url('{{ section.settings.bg_img | img_url: "master" }}');"{% else% %}style="background-color: {{ section.settings.bg_color }}"{% endif %}>
    <div class="{% if section.settings.section_margin %}short-flex--box{% else %}custom--flex-box{% endif %}">
        <div class="custom-flex--centering">
            <div class="custom-flex--main-content-box">
                <div class="custom-flex--img-box {% if section.settings.align == "right" %}no-presence{% endif %}">
                    <img 
                    src="{{ section.settings.main_img | img_url: "master" }}" 
                    alt="main" 
                    class="custom-flex--img" 
                    loading="lazy">
                </div>
                <div class="custom-flex--info-container {{ section.settings.font_color }}">
                  <div class="custom-flex--headingg">
                <h1 class="{% if section.settings.heading_img == blank %}margin-d-20{% endif %}">{{ section.settings.heading }}</h1>
                    {% if section.settings.heading_img != blank %}
                        <img 
                        src="{{ section.settings.heading_img | img_url: "master" }}" 
                        alt="heading" 
                        class="heading-img" 
                        loading="lazy">   
                    {% endif %}                   
                  </div>
                    {{ section.settings.content }}
                    {% if section.settings.btn_url != blank and section.settings.btn_text != blank %}
                      <div class="button-height relative">
                        <a href="{{ section.settings.btn_url }}" 
                          class="absolute {{ section.settings.button_style }}">
                            {{ section.settings.btn_text }}
                        </a>    
                      </div>
                    {% endif %}
                </div>
                {% if section.settings.align == "right" %}
                    <div class="custom-flex--img-box custom-flex--image-left">
                        <img 
                        src="{{ section.settings.main_img | img_url: "master" }}" 
                        alt="main" 
                        class="custom-flex--img" 
                        loading="lazy">
                    </div>  
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% schema %}
    {
        "name": "custom flex section",
        "class": "custom-flex--section",
        "settings": [
            {
                "type": "select",
                "id": "bg_options",
                "options": [
                    {
                        "label": "image",
                        "value": "image"
                    },
                    {
                        "label": "color",
                        "value": "color"
                    }
                ],
                "default": "image",
                "label": "Background content"
            },
            {
                "type": "image_picker",
                "id": "bg_img",
                "label": "Background image"
            },
            {
                "type": "color",
                "id": "bg_color",
                "label": "Background color"
            },
            {
                "type": "select",
                "id": "align",
                "options": [
                    {
                        "label": "left",
                        "value": "left"
                    },
                    {
                        "label": "right",
                        "value": "right"
                    }
                ],
                "default": "right",
                "label": "Image position"
            },
            {
                "type": "image_picker",
                "id": "main_img",
                "label": "Main image"
            },
            {
                "type": "select",
                "id": "font_color",
                "label": "font color",
                "options": [
                  {
                    "value": "color-black-font",
                    "label": "Black"
                  },
                  {
                    "value": "color-white-font",
                    "label": "white"
                  }
                ],
                "default": "color-white-font"
            },
            {
              "type": "select",
              "id": "button_style",
              "options": [
                {
                  "value": "custom-flex--btn color-black-font border-new-black",
                  "label": "Transparent black"
                },
                {
                  "value": "custom-flex--btn color-white-font border-new-white",
                  "label": "Transparent white"
                },
                {
                  "value": "qqqq new-btn--related-p margin-up-40",
                  "label": "Green original button"
                }
              ],
              "label": "Buton style",
              "default": "custom-flex--btn color-white-font border-new-white"
            },
            {
                "type": "text",
                "id": "heading",
                "default": "heading",
                "label": "Heading"
            },
            {
                "type": "image_picker",
                "id": "heading_img",
                "label": "Heading img"
            },
            {
                "type": "richtext",
                "id": "content",
                "label": "Content"
            },
            {
                "type": "url",
                "id": "btn_url",
                "label": "Link"
            },
            {
                "type": "text",
                "id": "btn_text",
                "label": "Button text"
            },
            {
                "type": "checkbox",
                "id": "section_margin",
                "default": false,
                "label": "Short margin"
            }
        ],
        "presets": [
            {
                "name": "custom flex section"
            }
        ]
    }
{% endschema %}